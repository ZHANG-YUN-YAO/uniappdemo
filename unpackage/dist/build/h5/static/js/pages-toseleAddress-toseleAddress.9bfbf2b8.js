(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-toseleAddress-toseleAddress"],{"04db":function(e,t,i){var a=i("cd2a");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("4f06").default;s("23a835c6",a,!0,{sourceMap:!1,shadowMode:!1})},"4ff8":function(e,t,i){"use strict";var a=i("04db"),s=i.n(a);s.a},"7d2a":function(e,t,i){"use strict";var a=i("ee27");i("99af"),i("a15b"),i("d81d"),i("ac1f"),i("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(i("d50d")),n={components:{QSpicker:s.default},computed:{regionsName:function(){return this.regions.map((function(e){return e.name})).join(" ")}},data:function(){return{regions:[],defaultRegions:["广东省","广州市","番禺区"],select:[],selename:"",defaultsele:"",is_default:"0",token:"",ifuse:!0,useok:!1,list:[],citySet:{defaultValue:[0,0,0]},add:!1,ifedit:!1,editid:"",name:"",phone:"",address:"",city:"",editcity:"北京-朝阳区-大悦城",detailinfo:{}}},onLoad:function(e){this.defaultsele=e.addressid,uni.getStorageSync("token")&&(this.token=uni.getStorageSync("token"),this.getinfo())},methods:{radioChange:function(e){var t=this;uni.request({url:this.global_api+"/api/address/set_def",data:{address_id:e.detail.value},method:"POST",header:{"User-Token":this.token},success:function(e){200==e.data.status?t.getinfo():uni.showToast({icon:"none",title:e.data.message})}})},handleGetRegions:function(e){console.log(e),this.regions=e},dele:function(e){var t=this;uni.request({url:this.global_api+"/api/address/del",data:{address_id:e},method:"POST",header:{"User-Token":this.token},success:function(e){200==e.data.status?(uni.showToast({icon:"none",title:e.data.message}),t.getinfo()):uni.showToast({icon:"none",title:e.data.message})}})},edit:function(e){var t=this;this.ifedit=!0,this.editid=e,uni.request({url:this.global_api+"/api/address/info",data:{address_id:e},method:"POST",header:{"User-Token":this.token},success:function(e){200==e.data.status?(t.detailinfo=e.data.result,t.name=e.data.result.consignee,t.phone=e.data.result.mobile,t.address=e.data.result.address,e.data.result.province&&(t.editcity=e.data.result.province),e.data.result.city&&(t.editcity=e.data.result.province+e.data.result.city),e.data.result.district&&(t.editcity=e.data.result.province+e.data.result.city+e.data.result.district)):uni.showToast({icon:"none",title:e.data.message})}})},addarea:function(){this.add=!0},getinfo:function(){var e=this;uni.getStorageSync("token");uni.request({url:this.global_api+"/api/address/list",data:{},method:"POST",header:{"User-Token":this.token},success:function(t){if(200==t.data.status){e.list=t.data.result;for(var i=0;i<e.list.length;i++)e.defaultsele==e.list[i].address_id&&(e.list[i].ifuse=!1,e.list[i].useok=!0)}else uni.showToast({icon:"none",title:t.data.message})}})},receivename:function(e){this.name=e.target.value},receivephone:function(e){this.phone=e.target.value},receiveaddress:function(e){this.address=e.target.value},nouse:function(e,t){for(var i=0;i<this.list.length;i++)e.address_id==this.list[i].address_id&&(this.list[i].ifuse=!0,this.list[i].useok=!1)},touse:function(e,t){for(var i=0;i<this.list.length;i++)e.address_id==this.list[i].address_id&&(this.list[i].ifuse=!1,this.list[i].useok=!0,uni.navigateTo({url:"../confirmOrder/confirmOrder?address_id="+e.address_id+"&&province="+e.province+"&&address="+e.address}))},changeShow:function(e){this.$refs[e].show()},showQSPicker:function(e){console.log("pickerId为".concat(e.pickerId,",类型为").concat(e.type,"的QS-picker显示了"))},hideQSPicker:function(e){console.log("pickerId为".concat(e.pickerId,",类型为").concat(e.type,"的QS-picker隐藏了了"))},confirm:function(e){JSON.stringify(e).data;this.city=JSON.parse(JSON.stringify(e)).data.label,this.select=JSON.parse(JSON.stringify(e)).value,this.selename=JSON.parse(JSON.stringify(e)).data.label.split("-")},closeadd:function(){this.add=!1},closeedit:function(){this.ifedit=!1},editsave:function(){var e=this;uni.request({url:this.global_api+"/api/address/edit",data:{consignee:this.name,mobile:this.phone,address:this.address,address_id:this.editid,province:this.selename[0],city:this.selename[1],district:this.selename[2]},method:"POST",header:{"User-Token":this.token},success:function(t){200==t.data.status?(uni.showToast({icon:"none",title:t.data.message}),e.ifedit=!1,e.getinfo()):uni.showToast({icon:"none",title:t.data.message})}})},save:function(){var e=this,t=/^[1][3,4,5,7,8][0-9]{9}$/;if(!t.test(this.phone))return uni.showToast({icon:"none",title:"请输入正确的手机号"}),!1;uni.request({url:this.global_api+"/api/address/set_up",data:{consignee:this.name,mobile:this.phone,address:this.address,province:this.selename[0],city:this.selename[1],district:this.selename[2]},method:"POST",header:{"User-Token":this.token},success:function(t){200==t.data.status?(uni.showToast({icon:"none",title:t.data.message}),e.add=!1,e.getinfo()):uni.showToast({icon:"none",title:t.data.message})}})}}};t.default=n},a539:function(e,t,i){"use strict";i.r(t);var a=i("7d2a"),s=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=s.a},b660:function(e,t,i){"use strict";var a,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"toseleAddress"},[a("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},e._l(e.list,(function(t,s){return a("v-uni-view",{key:t.address_id,staticClass:"address"},[a("v-uni-view",{staticClass:"name"},[e._v(e._s(t.consignee)+"  "+e._s(t.mobile))]),a("v-uni-view",{staticClass:"area"},[a("v-uni-view",{staticClass:"areastatus"},[e._v(e._s(t.province)+e._s(t.city)+e._s(t.district)+e._s(t.address))]),1==t.useok?a("v-uni-view",{staticClass:"use2",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.nouse(t,s)}}},[a("v-uni-image",{staticClass:"useok",attrs:{src:i("eef4"),mode:""}})],1):a("v-uni-view",{staticClass:"use",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.touse(t,s)}}},[e._v("使用")])],1),a("v-uni-view",{staticClass:"btns"},[a("v-uni-view",{staticClass:"btnfir"},[a("v-uni-radio",{attrs:{value:JSON.stringify(t.address_id),checked:1==t.is_default}}),e._v("设为默认")],1),a("v-uni-view",{staticClass:"btnrig"},[a("v-uni-view",{staticClass:"dele",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.dele(t.address_id)}}},[e._v("删除")]),a("v-uni-view",{staticClass:"edit",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.edit(t.address_id)}}},[e._v("修改")])],1)],1)],1)})),1),a("v-uni-view",{staticClass:"addarea",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addarea()}}},[a("v-uni-image",{staticClass:"addicon",attrs:{src:i("f9b3"),mode:""}}),e._v("添加收货地址")],1),e.add?a("v-uni-view",{staticClass:"addfrime"},[a("v-uni-view",{staticClass:"whiteback"},[a("v-uni-view",{staticClass:"writetop"},[a("v-uni-view",{staticClass:"toptitle"},[e._v("添加收货地址")]),a("v-uni-image",{staticClass:"closebtn",attrs:{src:i("2c6c"),mode:""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closeadd()}}})],1),a("v-uni-view",{staticClass:"writeinfo"},[a("v-uni-view",{staticClass:"infoli"},[a("v-uni-view",{staticClass:"uni-form-item uni-column"},[a("v-uni-view",{staticClass:"title"},[e._v("收货人")]),a("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"10",placeholder:"收货人姓名"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.receivename.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"infoli"},[a("v-uni-view",{staticClass:"uni-form-item uni-column"},[a("v-uni-view",{staticClass:"title"},[e._v("手机号")]),a("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"11",placeholder:"收货人手机号"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.receivephone.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"infoli"},[a("v-uni-view",{staticClass:"uni-form-item uni-column",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeShow("QS_Picekr_city")}}},[a("v-uni-view",{staticClass:"title"},[e._v("选择地区")]),a("v-uni-button",{staticClass:"margin10px_0",attrs:{type:""}},[e._v(">")]),a("v-uni-text",{staticClass:"read"},[e._v(e._s(e.editcity))]),a("QSpicker",{ref:"QS_Picekr_city",attrs:{type:"city",mode:"top",top:"200px",pickerId:"city_1",dataSet:e.citySet,showReset:!0},on:{showQSPicker:function(t){arguments[0]=t=e.$handleEvent(t),e.showQSPicker(t)},hideQSPicker:function(t){arguments[0]=t=e.$handleEvent(t),e.hideQSPicker(t)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm(t)}}})],1)],1),a("v-uni-view",{staticClass:"infoli"},[a("v-uni-view",{staticClass:"uni-form-item uni-column"},[a("v-uni-view",{staticClass:"title"},[e._v("详细地址")]),a("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"如街道、门牌号、小区、乡镇、村等"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.receiveaddress.apply(void 0,arguments)}}})],1)],1)],1),a("v-uni-view",{staticClass:"save",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.save()}}},[e._v("保存")])],1)],1):e._e(),e.ifedit?a("v-uni-view",{staticClass:"editfrime"},[a("v-uni-view",{staticClass:"whiteback"},[a("v-uni-view",{staticClass:"writetop"},[a("v-uni-view",{staticClass:"toptitle"},[e._v("编辑收货地址")]),a("v-uni-image",{staticClass:"closebtn",attrs:{src:i("2c6c"),mode:""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closeedit()}}})],1),a("v-uni-view",{staticClass:"writeinfo"},[a("v-uni-view",{staticClass:"infoli"},[a("v-uni-view",{staticClass:"uni-form-item uni-column"},[a("v-uni-view",{staticClass:"title"},[e._v("收货人")]),a("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"10",placeholder:"收货人姓名"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.receivename.apply(void 0,arguments)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),a("v-uni-view",{staticClass:"infoli"},[a("v-uni-view",{staticClass:"uni-form-item uni-column"},[a("v-uni-view",{staticClass:"title"},[e._v("手机号")]),a("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"11",placeholder:"收货人手机号"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.receivephone.apply(void 0,arguments)}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1),a("v-uni-view",{staticClass:"infoli"},[a("v-uni-view",{staticClass:"uni-form-item uni-column",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeShow("QS_Picekr_city")}}},[a("v-uni-view",{staticClass:"title"},[e._v("选择地区")]),a("v-uni-button",{staticClass:"margin10px_0",attrs:{type:""}},[e._v(">")]),a("v-uni-text",{staticClass:"read"},[e._v(e._s(e.city))]),a("QSpicker",{ref:"QS_Picekr_city",attrs:{type:"city",mode:"bottom",top:"200px",pickerId:"city_1",dataSet:e.citySet,showReset:!0},on:{showQSPicker:function(t){arguments[0]=t=e.$handleEvent(t),e.showQSPicker(t)},hideQSPicker:function(t){arguments[0]=t=e.$handleEvent(t),e.hideQSPicker(t)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm(t)}}})],1)],1),a("v-uni-view",{staticClass:"infoli"},[a("v-uni-view",{staticClass:"uni-form-item uni-column"},[a("v-uni-view",{staticClass:"title"},[e._v("详细地址")]),a("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"如街道、门牌号、小区、乡镇、村等"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.receiveaddress.apply(void 0,arguments)}},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)],1)],1),a("v-uni-view",{staticClass:"save",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editsave()}}},[e._v("保存")])],1)],1):e._e()],1)},n=[];i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}))},cd2a:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.toseleAddress[data-v-15aee14e]{display:none}.toseleAddress .uni-input-placeholder[data-v-15aee14e]{color:#babdcf;font-size:%?28?%!important;font-family:PingFang SC;font-weight:400}.toseleAddress uni-button[data-v-15aee14e]:after{border:0}.toseleAddress .address[data-v-15aee14e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:%?42?% %?28?% %?23?% %?28?%}.toseleAddress .address .name[data-v-15aee14e]{font-size:%?32?%;font-family:PingFang SC;font-weight:400;margin-bottom:%?30?%;color:#161e49;line-height:%?27?%}.toseleAddress .address .area[data-v-15aee14e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.toseleAddress .address .area .areastatus[data-v-15aee14e]{font-size:%?32?%;font-family:PingFang SC;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;width:%?500?%;font-weight:400;overflow:hidden;text-overflow:ellipsis;color:#787878}.toseleAddress .address .area .use[data-v-15aee14e]{width:%?104?%;height:%?47?%;font-size:%?25?%;font-family:PingFang SC;line-height:%?47?%;font-weight:400;text-align:center;color:#bfc2d2;border:%?2?% solid #babdcf;border-radius:%?7?%;cursor:pointer}.toseleAddress .address .area .use2[data-v-15aee14e]{cursor:pointer}.toseleAddress .address .area .use2 .useok[data-v-15aee14e]{width:%?34?%;height:%?22?%}.toseleAddress .address .btns[data-v-15aee14e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:%?694?%;padding:%?40?% 0 %?23?% 0;border-bottom:%?2?% solid #babdcf}.toseleAddress .address .btns .btnfir[data-v-15aee14e]{font-size:%?25?%;font-family:PingFang SC;font-weight:400;color:#babdcf;line-height:%?13?%}.toseleAddress .address .btns .btnrig[data-v-15aee14e]{font-size:%?25?%;font-family:PingFang SC;font-weight:400;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;color:#babdcf;line-height:%?13?%}.toseleAddress .address .btns .btnrig .dele[data-v-15aee14e], .toseleAddress .address .btns .btnrig .edit[data-v-15aee14e]{margin-left:%?55?%}.toseleAddress .addarea[data-v-15aee14e]{width:%?556?%;position:fixed;left:0;right:0;bottom:%?22?%;height:%?69?%;text-align:center;line-height:%?69?%;background:#ef104a;margin:0 auto;font-size:%?28?%;font-family:PingFang SC;font-weight:400;color:#fff;border-radius:%?35?%}.toseleAddress .addarea .addicon[data-v-15aee14e]{width:%?28?%;height:%?28?%;margin-right:%?10?%;position:relative;top:%?6?%}.toseleAddress .addfrime[data-v-15aee14e]{width:100vw;height:100%;position:absolute;top:0;z-index:9;background:rgba(0,0,0,.7)}.toseleAddress .addfrime .whiteback[data-v-15aee14e]{width:%?556?%;height:%?625?%;margin:0 auto;position:relative;top:50%;margin-top:%?-330?%;padding-bottom:%?34?%;background:#fff;border-radius:%?14?%}.toseleAddress .addfrime .whiteback .writetop[data-v-15aee14e]{padding-top:%?28?%;position:relative}.toseleAddress .addfrime .whiteback .writetop .toptitle[data-v-15aee14e]{font-size:%?32?%;font-family:PingFang SC;font-weight:400;text-align:center;color:#161e49;line-height:%?31?%}.toseleAddress .addfrime .whiteback .writetop .closebtn[data-v-15aee14e]{display:inline-block;width:%?18?%;height:%?18?%;position:absolute;right:%?28?%;top:%?34?%}.toseleAddress .addfrime .whiteback .writeinfo .infoli[data-v-15aee14e]{padding:%?32?% %?28?%;border-bottom:%?2?% solid #d5d5d5}.toseleAddress .addfrime .whiteback .writeinfo .infoli .title[data-v-15aee14e]{font-size:%?28?%;font-family:PingFang SC;font-weight:400;display:inline-block;color:#787878;line-height:%?27?%}.toseleAddress .addfrime .whiteback .writeinfo .infoli .read[data-v-15aee14e]{min-width:%?300?%!important;height:100%;font-size:%?28?%;font-family:PingFang SC;font-weight:400;margin-left:%?-60?%;color:#787878}.toseleAddress .addfrime .whiteback .writeinfo .infoli .margin10px_0[data-v-15aee14e]{position:relative;top:%?2?%;color:#babdcf;left:67%;display:inline-block;line-height:%?27?%}.toseleAddress .addfrime .whiteback .writeinfo .infoli .uni-input[data-v-15aee14e]{display:inline-block;font-size:%?28?%;font-family:PingFang SC;top:%?10?%;left:%?30?%;font-weight:400;position:relative;color:#babdcf;line-height:%?27?%}.toseleAddress .addfrime .whiteback .save[data-v-15aee14e]{width:%?417?%;margin:%?34?% auto;height:%?69?%;background:#ef104a;line-height:%?69?%;border-radius:%?35?%;font-size:%?28?%;text-align:center;font-family:PingFang SC;font-weight:400;color:#fff}.toseleAddress .editfrime[data-v-15aee14e]{width:100vw;height:100%;position:absolute;top:0;z-index:9;background:rgba(0,0,0,.7)}.toseleAddress .editfrime .whiteback[data-v-15aee14e]{width:%?556?%;height:%?625?%;margin:0 auto;position:relative;top:50%;margin-top:%?-330?%;padding-bottom:%?34?%;background:#fff;border-radius:%?14?%}.toseleAddress .editfrime .whiteback .writetop[data-v-15aee14e]{padding-top:%?28?%;position:relative}.toseleAddress .editfrime .whiteback .writetop .toptitle[data-v-15aee14e]{font-size:%?32?%;font-family:PingFang SC;font-weight:400;text-align:center;color:#161e49;line-height:%?31?%}.toseleAddress .editfrime .whiteback .writetop .closebtn[data-v-15aee14e]{display:inline-block;width:%?18?%;height:%?18?%;position:absolute;right:%?28?%;top:%?34?%}.toseleAddress .editfrime .whiteback .writeinfo .infoli[data-v-15aee14e]{padding:%?32?% %?28?%;border-bottom:%?2?% solid #d5d5d5}.toseleAddress .editfrime .whiteback .writeinfo .infoli .title[data-v-15aee14e]{font-size:%?28?%;font-family:PingFang SC;font-weight:400;display:inline-block;color:#787878;line-height:%?27?%}.toseleAddress .editfrime .whiteback .writeinfo .infoli .read[data-v-15aee14e]{min-width:%?300?%!important;height:100%;font-size:%?28?%;font-family:PingFang SC;font-weight:400;margin-left:%?-60?%;color:#787878}.toseleAddress .editfrime .whiteback .writeinfo .infoli .margin10px_0[data-v-15aee14e]{position:relative;top:%?2?%;color:#babdcf;left:67%;display:inline-block;line-height:%?27?%}.toseleAddress .editfrime .whiteback .writeinfo .infoli .uni-input[data-v-15aee14e]{display:inline-block;font-size:%?28?%;font-family:PingFang SC;top:%?10?%;left:%?30?%;font-weight:400;position:relative;color:#babdcf;line-height:%?27?%}.toseleAddress .editfrime .whiteback .save[data-v-15aee14e]{width:%?417?%;margin:%?34?% auto;height:%?69?%;background:#ef104a;line-height:%?69?%;border-radius:%?35?%;font-size:%?28?%;text-align:center;font-family:PingFang SC;font-weight:400;color:#fff}',""]),e.exports=t},fd83:function(e,t,i){"use strict";i.r(t);var a=i("b660"),s=i("a539");for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);i("4ff8");var o,d=i("f0c5"),r=Object(d["a"])(s["default"],a["b"],a["c"],!1,null,"15aee14e",null,!1,a["a"],o);t["default"]=r.exports}}]);